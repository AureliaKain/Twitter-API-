# -*- coding: utf-8 -*-
"""
Spyder Editor

This is a temporary script file.
"""





import tweepy

ckey="3Y24JNyK6SLGbWSUwN7b17mFX"
csecret="v6b8uPowAsUVlkotaxVt96rLDvIKCNhMksBdZFHggODH48HszL"
atoken="2397562146-2F3npG1evSed3nGi10h7MlmejP5vvvMyYUHDXsy"
asecret="DUoJo8eUGWvknJxkaRiGGgMdpcYmPGQngbdmR0hcBdg6i"

auth=tweepy.OAuthHandler(ckey, csecret)
auth.set_access_token(atoken, asecret)
api=tweepy.API(auth)
"""
public_tweets=api.home_timeline(count=3)

for tweet in public_tweets:
    print tweet.text
    
my_retweets=api.retweets_of_me()
for tweets in my_retweets:
    print tweets.text
    

for status in tweepy.Cursor(api.user_timeline, id='lebigdata_fr').items():
    print status.text
    print status.id
    print status.created_at
    print status.retweet_count



for status in tweepy.Cursor(api.user_timeline, id='lebigdata_fr').items(20):
    hashtaglist=[]
    try:
        for hashtag in status.entities['hashtags']:
            hashtaglist.append(hashtag['text'])
        print hashtaglist
    except:
        pass

for status in tweepy.Cursor(api.user_timeline, id='lebigdata_fr').items(10):
    linklist=[]
    try:
        for link in status.entities['urls']:
            linklist.append(link['expanded_url'])
            print linklist
    except:
        pass

for status in tweepy.Cursor(api.user_timeline, id='lebigdata_fr').items(10):
    medialist=[]
    try:
        for media in status.entities['media']:
            medialist.append(media['epxanded_url'])
        print medialist
    except:
        pass
    
for status in tweepy.Cursor(api.user_timeline, id='CocaCola').items():
    print status.text
    print status.id
    print status.created_at
    print status.retweet_count
    print status.favorite_count
    print status.in_reply_to_screen_name
    
for status in tweepy.Cursor(api.user_timeline, id='CocaCola').items(10):
    hashtaglist=[]
    try:
        for hashtag in status.entities['hashtags']:
            hashtaglist.append(hashtag['text'])
        print hashtaglist
    except:
        pass
for status in tweepy.Cursor(api.user_timeline, id='CocaCola').items(10):
    linklist=[]
    try:
        for link in status.entities['urls']:
            linklist.append(link['expanded_url'])
        print linklist
    except:
        pass
for status in tweepy.Cursor(api.user_timeline, id='CocaCola').items(10):
    medialist=[]
    try:
        for media in status.entities['media']:
            medialist.append(media['expanded_url'])
        print medialist
    except:
        pass
"""
"""
import sqlite3
import tweepy
import time



con=sqlite3.connect("example1.db")
cur=con.cursor()
cur.execute("CREATE TABLE IF NOT EXISTS twitter_data(id, tweet, date, retweet, favorite, reply, brand, hashtags, links, media)")
con.commit
handles=["Unilever","Lu"]
for hndl in handles:
    for status in tweepy.Cursor(api.user_timeline, id=hndl).items(50):
        tw_id=status.id
        tweet=status.text.replace("\n", "").replace("\r","").replace("\r\n","")
        date=status.created_at
        retweet=status.retweet_count
        favorite=status.favorite_count
        reply=status.in_reply_to_screen_name
        brand=status.user.screen_name
        
        hashtaglist=[]
        try:
            for hashtag in status.entities["hashtags"]:
                hahstaglist.append(hashtag["text"])
                
        except:
            pass
        hashtags=", ".join(hashtaglist)
        
        linklist=[]
        try:
            for link in status.entities["url"]:
                linklist.append(link["expanded_url"])
                
        except:
            pass
        links=", ".join(linklist)
        
        medialist=[]
        try:
            for media in status.entities["media"]:
                medialist.append(media["expanded_url"])
                
        except:
            pass
        medias=", ".join(medialist)

    cur.execute("INSERT INTO twitter_data VALUES(?,?,?,?,?,?,?,?,?,?)",(tw_id, tweet, date, retweet, favorite, reply, brand, hashtags,links, medias))
    con.commit
    time.sleep(1)


user_h=api.get_user("Unilever")
print user_h.statuses_count
print user_h.followers_count
print user_h.friends_count

user_h.follower.id
user_h.follower.screen_name"""

import sqlite3
import tweepy
import time

for follower in tweepy.Cursor(api.followers, id="Unilever").items(20):
    print follower.id
    print follower.screen_name
    time.sleep(1)

